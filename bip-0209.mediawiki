<pre>
  BIP: 209
  Title: BOLT 9: Assigned Feature Flags
  Author: Rusty Russell <rusty@rustcorp.com.au>
  Comments-Summary: No comments yet.
  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0209
  Status: Draft
  Type: Standards Track
  Created: 2017-02-07
  License: CC-BY-4.0
</pre>

This document tracks the assignment of <code>localfeatures</code> and <code>globalfeatures</code> flags in the <code>init</code> message ([[bip-0201.mediawiki|BOLT #1]]), as well as the <code>features</code> field in the <code>channel_announcement</code> message and <code>node_announcement</code> message ([[bip-0207.mediawiki|BOLT #7]]). They are tracked separately since new flags will likely be added over time.

The <code>features</code> flags in the routing messages are a subset of the <code>globalfeatures</code> flags, since the <code>localfeatures</code> are by definition only of interest to direct peers.

Flags are numbered from the least-significant bit at bit 0 (ie. 0x1, an even bit). They are generally assigned in pairs, so that features can be introduced as optional (odd bits), and later upgraded to refuse old nodes (even bits). See [[#the-init-message|BOLT #1: The <code>init</code> message]].

== Assigned <code>localfeatures</code> flags ==

These flags may only be used in the <code>init</code> message:

{|
!Bits
!Name
!Description
!Link
|-
|3
|<code>initial_routing_sync</code>
|The sending node needs a complete routing information dump
|[[bip-0207.mediawiki#initial-sync|BOLT #7]]
|}

== Assigned <code>globalfeatures</code> flags ==

== Requirements ==

(Note that the requirements for feature bits which are not defined above, can be found in [[#the-init-message|BOLT #1: The <code>init</code> message]]). The requirements when receiving set bits are defined in the linked section in the table above).

== Rationale ==

There's little point insisting on an <code>initial_routing_sync</code> (you can't tell if the remote node complies, and it has to know what it means as it's defined in the initial spec) so there's no even bit for that.

[[File:https://i.creativecommons.org/l/by/4.0/88x31.png|License CC-BY]] <br> This work is licensed under a [http://creativecommons.org/licenses/by/4.0/ Creative Commons Attribution 4.0 International License].

